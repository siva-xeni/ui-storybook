"use strict";
var c = Object.defineProperty;
var b = Object.getOwnPropertyDescriptor;
var u = Object.getOwnPropertyNames;
var a = Object.prototype.hasOwnProperty;
var i = (t, r) => c(t, "name", { value: r, configurable: !0 });
var k = (t, r) => {
  for (var o in r)
    c(t, o, { get: r[o], enumerable: !0 });
}, d = (t, r, o, n) => {
  if (r && typeof r == "object" || typeof r == "function")
    for (let s of u(r))
      !a.call(t, s) && s !== o && c(t, s, { get: () => r[s], enumerable: !(n = b(r, s)) || n.enumerable });
  return t;
};
var g = (t) => d(c({}, "__esModule", { value: !0 }), t);

// src/test/preview.ts
var y = {};
k(y, {
  default: () => E,
  traverseArgs: () => f
});
module.exports = g(y);
var p = require("storybook/internal/instrumenter"), l = require("storybook/preview-api"), e = require("storybook/test");
var w = /* @__PURE__ */ i(({ parameters: t }) => {
  t?.test?.mockReset === !0 ? (0, e.resetAllMocks)() : t?.test?.clearMocks === !0 ? (0, e.clearAllMocks)() : t?.test?.restoreMocks !== !1 &&
  (0, e.restoreAllMocks)();
}, "resetAllMocksLoader"), f = /* @__PURE__ */ i((t, r = 0, o) => {
  if (r > 5 || t == null)
    return t;
  if ((0, e.isMockFunction)(t))
    return o && t.mockName(o), t;
  if (typeof t == "function" && "isAction" in t && t.isAction && !("implicit" in t && t.implicit)) {
    let n = (0, e.fn)(t);
    return o && n.mockName(o), n;
  }
  if (Array.isArray(t)) {
    r++;
    for (let n = 0; n < t.length; n++)
      Object.getOwnPropertyDescriptor(t, n)?.writable && (t[n] = f(t[n], r));
    return t;
  }
  if (typeof t == "object" && t.constructor === Object) {
    r++;
    for (let [n, s] of Object.entries(t))
      Object.getOwnPropertyDescriptor(t, n)?.writable && (t[n] = f(s, r, n));
    return t;
  }
  return t;
}, "traverseArgs"), A = /* @__PURE__ */ i(({ initialArgs: t }) => {
  f(t);
}, "nameSpiesAndWrapActionsInSpies"), m = !1, M = /* @__PURE__ */ i(async (t) => {
  if (globalThis.HTMLElement && t.canvasElement instanceof globalThis.HTMLElement && (t.canvas = (0, e.within)(t.canvasElement)), globalThis.
  window?.navigator?.clipboard) {
    t.userEvent = (0, p.instrument)(
      { userEvent: e.uninstrumentedUserEvent.setup() },
      { intercept: !0 }
    ).userEvent;
    let r = HTMLElement.prototype.focus;
    m || Object.defineProperties(HTMLElement.prototype, {
      focus: {
        configurable: !0,
        set: /* @__PURE__ */ i((o) => {
          r = o, m = !0;
        }, "set"),
        get: /* @__PURE__ */ i(() => r, "get")
      }
    });
  }
}, "enhanceContext"), E = /* @__PURE__ */ i(() => (0, l.definePreview)({
  loaders: [w, A, M]
}), "default");
